<!DOCTYPE html>
<html>
<head>
  <title>JSON Data Search</title>
</head>
<body>
  <h2>JSON Data Search</h2>

  <label for="searchInput">Enter ID:</label>
  <input type="text" id="searchInput">
  <button onclick="searchData()">Search</button>

  <div id="dataContainer"></div>

  <script>
    function fetchData() {
      fetch('https://api.jsonbin.io/v3/b/6498aa0f8e4aa6225eb447e9')
        .then(response => response.json())
        .then(jsonData => {
          sessionStorage.setItem('jsonData', JSON.stringify(jsonData.record));
        })
        .catch(error => {
          console.error('An error occurred while fetching data:', error);
        });
    }

    function searchData() {
      const searchInput = document.getElementById('searchInput').value;
      const jsonData = JSON.parse(sessionStorage.getItem('jsonData'));
      const dataContainer = document.getElementById('dataContainer');

      if (jsonData) {
        if (searchInput.trim() === '') {
          dataContainer.textContent = '';
          return;
        }

        const searchData = jsonData[searchInput];

        if (searchData) {
          const html = `
            <h3>ID: ${searchInput}</h3>
            <p>Name: ${searchData.NAME}</p>
            <p>Age: ${searchData.AGE}</p>
            <p>Type: ${searchData.TYPE}</p>
            <p>Topic: ${searchData.TOPIC}</p>
            <p>Status: ${searchData.STATUS}</p>
          `;
          dataContainer.innerHTML = html;
        } else {
          dataContainer.textContent = 'Details not found for the entered ID.';
        }
      } else {
        dataContainer.textContent = 'An error occurred while fetching data. Please try again.';
      }
    }

    // Fetch data on page load
    fetchData();
  </script>
</body>
</html>
